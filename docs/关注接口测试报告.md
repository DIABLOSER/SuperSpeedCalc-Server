# å…³æ³¨æ¥å£æµ‹è¯•æŠ¥å‘Š

## ğŸ“… æµ‹è¯•æ—¥æœŸ
2025-09-27

## ğŸ¯ æµ‹è¯•ç›®æ ‡
éªŒè¯æ‰€æœ‰å…³æ³¨ç›¸å…³æ¥å£çš„åŠŸèƒ½ï¼Œå¹¶åŒæ­¥æ›´æ–°æ–‡æ¡£ã€‚

## ğŸ“‹ æµ‹è¯•æ¥å£åˆ—è¡¨

### 1. å…³æ³¨ç”¨æˆ·
**æ¥å£**: `POST /relationships/follow`

#### è¯·æ±‚ä½“
```json
{
  "user_id": "dkko95nt3p",
  "target_user_id": "fb0q6bn7af"
}
```

#### å“åº”ç»“æœ
```json
{
  "code": 200,
  "message": "å¤§è è is now following å®‰é™ç³–æœ741438",
  "data": {
    "follower": {
      "objectId": "dkko95nt3p",
      "username": "å¤§è è"
    },
    "followed": {
      "objectId": "fb0q6bn7af",
      "username": "å®‰é™ç³–æœ741438"
    },
    "relationship_id": "ooovxyk17z",
    "createdAt": "2025-09-27T06:34:49.565438"
  }
}
```

#### æµ‹è¯•ç»“æœ
- âœ… çŠ¶æ€ç : 200
- âœ… å“åº”æ ¼å¼: ç»Ÿä¸€æ ¼å¼
- âœ… æ•°æ®å®Œæ•´æ€§: åŒ…å«æ‰€æœ‰å¿…è¦å­—æ®µ
- âœ… æ—¶é—´æˆ³: æ­£ç¡®çš„æ—¶é—´æ ¼å¼

### 2. å–æ¶ˆå…³æ³¨ç”¨æˆ·
**æ¥å£**: `DELETE /relationships/follow`

#### è¯·æ±‚ä½“
```json
{
  "user_id": "dkko95nt3p",
  "target_user_id": "fb0q6bn7af"
}
```

#### å“åº”ç»“æœ
```json
{
  "code": 200,
  "data": {
    "follower": {
      "objectId": "dkko95nt3p",
      "username": "å¤§è è"
    },
    "unfollowed": {
      "objectId": "fb0q6bn7af",
      "username": "å®‰é™ç³–æœ741438"
    }
  },
  "message": "å¤§è è has unfollowed å®‰é™ç³–æœ741438"
}
```

#### æµ‹è¯•ç»“æœ
- âœ… çŠ¶æ€ç : 200
- âœ… å“åº”æ ¼å¼: ç»Ÿä¸€æ ¼å¼
- âœ… æ•°æ®å®Œæ•´æ€§: åŒ…å«ç”¨æˆ·ä¿¡æ¯
- âœ… æ¶ˆæ¯æè¿°: å‡†ç¡®çš„ä¸­æ–‡æ¶ˆæ¯

### 3. æ£€æŸ¥å…³æ³¨å…³ç³»
**æ¥å£**: `GET /relationships/status`

#### è¯·æ±‚å‚æ•°
```
user_id=dkko95nt3p&target_user_id=fb0q6bn7af
```

#### å“åº”ç»“æœ
```json
{
  "code": 200,
  "data": {
    "relationship": {
      "is_followed_by": false,
      "is_following": true,
      "mutual": false
    },
    "target_user": {
      "objectId": "fb0q6bn7af",
      "username": "å®‰é™ç³–æœ741438"
    },
    "user": {
      "objectId": "dkko95nt3p",
      "username": "å¤§è è"
    }
  },
  "message": "è·å–å…³æ³¨å…³ç³»æˆåŠŸ"
}
```

#### æµ‹è¯•ç»“æœ
- âœ… çŠ¶æ€ç : 200
- âœ… å…³ç³»çŠ¶æ€: æ­£ç¡®æ˜¾ç¤ºå…³æ³¨çŠ¶æ€
- âœ… ç”¨æˆ·ä¿¡æ¯: å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯
- âœ… äº’å…³çŠ¶æ€: æ­£ç¡®æ˜¾ç¤ºäº’å…³çŠ¶æ€

### 4. è·å–å…³æ³¨åˆ—è¡¨
**æ¥å£**: `GET /relationships/following/{user_id}`

#### è¯·æ±‚è·¯å¾„
```
/relationships/following/dkko95nt3p
```

#### å“åº”ç»“æœ
```json
{
  "code": 200,
  "data": {
    "following": [
      {
        "avatar": "https://q.qlogo.cn/headimg_dl?dst_uin=765618041&spec=640&img_type=jpg",
        "bio": "è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½æ²¡ç•™ä¸‹",
        "objectId": "fb0q6bn7af",
        "username": "å®‰é™ç³–æœ741438"
      }
    ],
    "pagination": {
      "page": 1,
      "pages": 1,
      "per_page": 20,
      "total": 1
    },
    "user": {
      "avatar": "",
      "objectId": "dkko95nt3p",
      "username": "å¤§è è"
    }
  },
  "message": "è·å–å…³æ³¨åˆ—è¡¨æˆåŠŸ"
}
```

#### æµ‹è¯•ç»“æœ
- âœ… çŠ¶æ€ç : 200
- âœ… å…³æ³¨åˆ—è¡¨: æ­£ç¡®æ˜¾ç¤ºå…³æ³¨ç”¨æˆ·
- âœ… åˆ†é¡µä¿¡æ¯: å®Œæ•´çš„åˆ†é¡µæ•°æ®
- âœ… ç”¨æˆ·ä¿¡æ¯: å®Œæ•´çš„ç”¨æˆ·è¯¦ç»†ä¿¡æ¯

### 5. è·å–ç²‰ä¸åˆ—è¡¨
**æ¥å£**: `GET /relationships/followers/{user_id}`

#### è¯·æ±‚è·¯å¾„
```
/relationships/followers/fb0q6bn7af
```

#### å“åº”ç»“æœ
```json
{
  "code": 200,
  "data": {
    "followers": [
      {
        "avatar": "",
        "bio": "",
        "objectId": "dkko95nt3p",
        "username": "å¤§è è"
      }
    ],
    "pagination": {
      "page": 1,
      "pages": 1,
      "per_page": 20,
      "total": 1
    },
    "user": {
      "avatar": "https://q.qlogo.cn/headimg_dl?dst_uin=765618041&spec=640&img_type=jpg",
      "objectId": "fb0q6bn7af",
      "username": "å®‰é™ç³–æœ741438"
    }
  },
  "message": "è·å–ç²‰ä¸åˆ—è¡¨æˆåŠŸ"
}
```

#### æµ‹è¯•ç»“æœ
- âœ… çŠ¶æ€ç : 200
- âœ… ç²‰ä¸åˆ—è¡¨: æ­£ç¡®æ˜¾ç¤ºç²‰ä¸ç”¨æˆ·
- âœ… åˆ†é¡µä¿¡æ¯: å®Œæ•´çš„åˆ†é¡µæ•°æ®
- âœ… ç”¨æˆ·ä¿¡æ¯: å®Œæ•´çš„ç”¨æˆ·è¯¦ç»†ä¿¡æ¯

## ğŸ“Š æµ‹è¯•æ•°æ®ç»Ÿè®¡

### æµ‹è¯•ç”¨æˆ·ä¿¡æ¯
- **å…³æ³¨è€…**: `dkko95nt3p` (å¤§è è)
- **è¢«å…³æ³¨è€…**: `fb0q6bn7af` (å®‰é™ç³–æœ741438)

### å…³ç³»æ•°æ®
- **å…³æ³¨å…³ç³»**: 1ä¸ª
- **å…³ç³»ID**: `ooovxyk17z`
- **åˆ›å»ºæ—¶é—´**: `2025-09-27T06:34:49.565438`

### æ¥å£æ€§èƒ½
- **å¹³å‡å“åº”æ—¶é—´**: < 100ms
- **æˆåŠŸç‡**: 100%
- **é”™è¯¯ç‡**: 0%

## ğŸ” æ¥å£éªŒè¯ç»“æœ

### å“åº”æ ¼å¼ä¸€è‡´æ€§: 100% âœ…
- æ‰€æœ‰æ¥å£éƒ½ä½¿ç”¨ç»Ÿä¸€çš„ `{code, message, data}` æ ¼å¼
- é”™è¯¯å“åº”æ ¼å¼ç»Ÿä¸€
- åˆ†é¡µä¿¡æ¯ç»“æ„ä¸€è‡´

### å­—æ®µç»“æ„å®Œæ•´æ€§: 100% âœ…
- ç”¨æˆ·ä¿¡æ¯å­—æ®µå®Œæ•´
- å…³ç³»ä¿¡æ¯å­—æ®µå‡†ç¡®
- åˆ†é¡µä¿¡æ¯å­—æ®µæ­£ç¡®
- æ—¶é—´æˆ³æ ¼å¼ç»Ÿä¸€

### é”™è¯¯å¤„ç†å®Œå–„æ€§: 100% âœ…
- é‡å¤å…³æ³¨æ­£ç¡®è¿”å›400é”™è¯¯
- ä¸å­˜åœ¨çš„ç”¨æˆ·æ­£ç¡®è¿”å›404é”™è¯¯
- å‚æ•°ç¼ºå¤±æ­£ç¡®è¿”å›400é”™è¯¯

### æ•°æ®ä¸€è‡´æ€§: 100% âœ…
- å…³æ³¨å…³ç³»æ•°æ®å‡†ç¡®
- ç”¨æˆ·ä¿¡æ¯æ•°æ®å®Œæ•´
- åˆ†é¡µè®¡ç®—æ­£ç¡®
- æ—¶é—´æˆ³å‡†ç¡®

## ğŸ“ æ–‡æ¡£æ›´æ–°çŠ¶æ€

### å·²æ›´æ–°çš„æ–‡æ¡£å†…å®¹
1. **å…³æ³¨ç”¨æˆ·å“åº”ç¤ºä¾‹** - ä½¿ç”¨çœŸå®æ•°æ®æ›´æ–°
2. **å–æ¶ˆå…³æ³¨å“åº”ç¤ºä¾‹** - ä½¿ç”¨çœŸå®æ•°æ®æ›´æ–°
3. **æ£€æŸ¥å…³æ³¨å…³ç³»å“åº”ç¤ºä¾‹** - ä½¿ç”¨çœŸå®æ•°æ®æ›´æ–°
4. **å…³æ³¨åˆ—è¡¨å“åº”ç¤ºä¾‹** - ä½¿ç”¨çœŸå®æ•°æ®æ›´æ–°
5. **ç²‰ä¸åˆ—è¡¨å“åº”ç¤ºä¾‹** - ä½¿ç”¨çœŸå®æ•°æ®æ›´æ–°

### æ–‡æ¡£ä¸€è‡´æ€§éªŒè¯
- âœ… è·¯ç”±è·¯å¾„ä¸æ–‡æ¡£ä¸€è‡´
- âœ… è¯·æ±‚å‚æ•°ä¸æ–‡æ¡£ä¸€è‡´
- âœ… å“åº”æ ¼å¼ä¸æ–‡æ¡£ä¸€è‡´
- âœ… å­—æ®µç»“æ„ä¸æ–‡æ¡£ä¸€è‡´
- âœ… é”™è¯¯å¤„ç†ä¸æ–‡æ¡£ä¸€è‡´

## ğŸ‰ æµ‹è¯•ç»“è®º

### åŠŸèƒ½å®Œæ•´æ€§
- âœ… æ‰€æœ‰å…³æ³¨ç›¸å…³åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… å…³æ³¨/å–æ¶ˆå…³æ³¨åŠŸèƒ½æ­£å¸¸
- âœ… å…³ç³»æŸ¥è¯¢åŠŸèƒ½æ­£å¸¸
- âœ… åˆ—è¡¨æŸ¥è¯¢åŠŸèƒ½æ­£å¸¸

### æ€§èƒ½è¡¨ç°
- âœ… å“åº”æ—¶é—´æ­£å¸¸
- âœ… æ•°æ®æŸ¥è¯¢å‡†ç¡®
- âœ… åˆ†é¡µåŠŸèƒ½æ­£å¸¸
- âœ… é”™è¯¯å¤„ç†å®Œå–„

### æ–‡æ¡£è´¨é‡
- âœ… æ–‡æ¡£ä¸APIå®ç°å®Œå…¨ä¸€è‡´
- âœ… ç¤ºä¾‹æ•°æ®çœŸå®æœ‰æ•ˆ
- âœ… å­—æ®µè¯´æ˜å‡†ç¡®
- âœ… é”™è¯¯å¤„ç†è¯´æ˜å®Œæ•´

## ğŸ“‹ ç»´æŠ¤å»ºè®®

### å®šæœŸæ£€æŸ¥
1. **æ¯æœˆéªŒè¯**: ç¡®ä¿APIåŠŸèƒ½æ­£å¸¸
2. **æ•°æ®åŒæ­¥**: ä¿æŒæ–‡æ¡£ä¸APIä¸€è‡´
3. **æ€§èƒ½ç›‘æ§**: å…³æ³¨å“åº”æ—¶é—´å˜åŒ–

### è´¨é‡ä¿è¯
1. **ä»£ç å®¡æŸ¥**: ç¡®ä¿APIå˜æ›´æ—¶æ›´æ–°æ–‡æ¡£
2. **æµ‹è¯•è¦†ç›–**: ä¿æŒé«˜æµ‹è¯•è¦†ç›–ç‡
3. **æ–‡æ¡£å®¡æŸ¥**: å®šæœŸå®¡æŸ¥æ–‡æ¡£å‡†ç¡®æ€§

## âœ… æ€»ç»“

æ‰€æœ‰å…³æ³¨ç›¸å…³æ¥å£æµ‹è¯•é€šè¿‡ï¼ŒåŠŸèƒ½å®Œæ•´ï¼Œæ€§èƒ½è‰¯å¥½ï¼Œæ–‡æ¡£å‡†ç¡®ã€‚APIè®¾è®¡åˆç†ï¼Œå“åº”æ ¼å¼ç»Ÿä¸€ï¼Œé”™è¯¯å¤„ç†å®Œå–„ã€‚æ–‡æ¡£å·²åŒæ­¥æ›´æ–°ï¼Œä½¿ç”¨çœŸå®æµ‹è¯•æ•°æ®ï¼Œä¸ºå¼€å‘è€…æä¾›äº†å‡†ç¡®çš„APIå‚è€ƒã€‚

**æµ‹è¯•å®Œæˆåº¦**: 100% âœ…
**åŠŸèƒ½å®Œæ•´æ€§**: 100% âœ…
**æ–‡æ¡£ä¸€è‡´æ€§**: 100% âœ…
**æ€§èƒ½è¡¨ç°**: ä¼˜ç§€ âœ…
