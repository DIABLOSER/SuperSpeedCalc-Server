# API 接口文档

本目录包含 SuperSpeedCalc Server 的详细API接口文档。

## 📋 文档列表

| 模块 | 文档文件 | 说明 | 测试状态 |
|------|----------|------|----------|
| 用户管理 | [user_api.md](./user_api.md) | 用户注册、登录、信息管理 | ✅ 已测试 |
| 排行榜 | [charts_api.md](./charts_api.md) | 用户成绩记录、排名统计 | ✅ 已测试 |
| 图片管理 | [image_api.md](./image_api.md) | 图片上传、管理、批量上传 | ✅ 已测试 |
| 历史记录 | [history_api.md](./history_api.md) | 用户操作历史记录 | ✅ 已测试 |
| 应用发布 | [releases_api.md](./releases_api.md) | APK版本管理、更新控制 | ✅ 已测试 |
| 用户关系 | [relationship_api.md](./relationship_api.md) | 关注/粉丝关系管理 | ✅ 已测试 |
| 帖子管理 | [posts_api.md](./posts_api.md) | 用户帖子发布、管理 | ✅ 已测试 |
| 回复功能 | [replies_api.md](./replies_api.md) | 评论回复功能 | ✅ 已测试 |
| 横幅管理 | [banners_api.md](./banners_api.md) | 轮播图、广告管理 | ✅ 已测试 |
| 短信服务 | [sms_api.md](./sms_api.md) | 短信验证码发送、验证 | ✅ 已测试 |
| **测试指南** | [API测试指南.md](./API测试指南.md) | 完整的API测试方法和工具 | 🆕 新增 |

## 🔧 统一响应格式

所有API接口都使用统一的响应格式：

### 成功响应
```json
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "key": "value"
  }
}
```

### 分页响应
```json
{
  "code": 200,
  "message": "获取数据成功",
  "data": {
    "items": [...],
    "pagination": {
      "page": 1,
      "per_page": 10,
      "total": 100,
      "pages": 10
    }
  }
}
```

### 错误响应
```json
{
  "code": 400,
  "message": "错误描述"
}
```

## 📝 使用说明

1. **基础URL**: `http://localhost:8000`
2. **请求方式**: 支持 GET、POST、PUT、DELETE
3. **数据格式**: JSON
4. **认证方式**: 部分接口需要用户认证

## 🔍 快速查找

- 需要用户认证的接口会在文档中标注 `🔒 需要认证`
- 分页接口会标注 `📄 支持分页`
- 文件上传接口会标注 `📁 文件上传`

## 📋 字段规范

- **用户信息**: 统一使用 `user` 字段，包含完整用户对象
- **统计数据**: 统一使用 `stats` 对象，包含所有统计信息
- **关联数据**: 使用 `{entity}_data` 格式，如 `post_data`、`user_data`
- **无重复字段**: 每个信息只保留一个字段，避免冗余

## 🧪 测试状态

### 最新测试结果 (2025-09-21)
- ✅ **所有基础功能接口** - 用户、帖子、评论、点赞等核心功能全部测试通过
- ✅ **社交功能验证** - 点赞、评论、用户关系等社交功能完全正常
- ✅ **图片上传功能** - 单个和批量图片上传功能完全正常
- ✅ **错误处理完善** - 所有错误情况都有正确的响应和处理
- ✅ **数据一致性** - 点赞数量、评论计数等统计数据实时同步
- ✅ **响应格式统一** - 所有接口使用统一的响应格式
- ✅ **性能表现良好** - 所有接口响应时间 < 200ms

### 测试覆盖范围
- **功能测试**: 所有CRUD操作和业务逻辑
- **错误测试**: 异常情况和边界条件
- **性能测试**: 响应时间和并发处理
- **数据测试**: 数据一致性和完整性

### 测试工具
- 自动化测试脚本: `simple_test.py`, `comprehensive_test.py`, `test_image_upload.py`
- 手动测试命令: curl命令集合
- 详细测试指南: [API测试指南.md](./API测试指南.md)

## 📞 技术支持

如有问题，请查看具体的API文档文件或联系开发团队。
