# SuperSpeedCalc Server

åŸºäº Flask æ¡†æ¶çš„å…¨åŠŸèƒ½åç«¯æœåŠ¡ï¼Œæä¾›å®Œæ•´çš„ç¤¾äº¤åŒ–åº”ç”¨åŠŸèƒ½ã€‚

> âœ… **APIå“åº”æ ¼å¼å·²å®Œå…¨æ ‡å‡†åŒ–** - æ‰€æœ‰æ¥å£ç»Ÿä¸€ä½¿ç”¨ `code + message + data` æ ¼å¼

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- SQLite æ•°æ®åº“

### å®‰è£…è¿è¡Œ
```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨æœåŠ¡å™¨
python start.py
```

æœåŠ¡å™¨å°†åœ¨ `http://localhost:8000` å¯åŠ¨

## ğŸ“Š æ•°æ®åº“è¡¨ç»“æ„

é¡¹ç›®åŒ…å«ä»¥ä¸‹æ•°æ®è¡¨ï¼š

| è¡¨å | è¯´æ˜ | ä¸»è¦åŠŸèƒ½ |
|------|------|----------|
| `my_user` | ç”¨æˆ·è¡¨ | ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯ç®¡ç† |
| `charts` | æ’è¡Œæ¦œè¡¨ | ç”¨æˆ·æˆç»©è®°å½•ã€æ’åç»Ÿè®¡ |
| `forum` | è®ºå›è¡¨ | è®ºå›å¸–å­å‘å¸ƒã€ç®¡ç† |
| `image` | å›¾ç‰‡è¡¨ | å›¾ç‰‡ä¸Šä¼ ã€ç®¡ç† |
| `history` | å†å²è®°å½•è¡¨ | ç”¨æˆ·æ“ä½œå†å²è®°å½• |
| `app_releases` | åº”ç”¨å‘å¸ƒè¡¨ | APKç‰ˆæœ¬ç®¡ç†ã€æ›´æ–°æ§åˆ¶ |
| `user_relationships` | ç”¨æˆ·å…³ç³»è¡¨ | å…³æ³¨/ç²‰ä¸å…³ç³»ç®¡ç† |
| `posts` | å¸–å­è¡¨ | ç”¨æˆ·å¸–å­å‘å¸ƒã€ç®¡ç† |
| `likes` | ç‚¹èµè¡¨ | å¸–å­ç‚¹èµåŠŸèƒ½ |
| `replies` | å›å¤è¡¨ | è¯„è®ºå›å¤åŠŸèƒ½ |
| `banners` | æ¨ªå¹…è¡¨ | è½®æ’­å›¾ã€å¹¿å‘Šç®¡ç† |

## ğŸ”§ API å“åº”æ ¼å¼

âœ… **æ‰€æœ‰APIæ¥å£å·²å®Œå…¨æ ‡å‡†åŒ–**ï¼Œä½¿ç”¨ç®€åŒ–çš„å“åº”æ ¼å¼ï¼š

> **æ ‡å‡†åŒ–å®Œæˆ**ï¼šæ‰€æœ‰æ¥å£ç°åœ¨éƒ½ä¸¥æ ¼æŒ‰ç…§ `code + message + data` æ ¼å¼è¿”å›å“åº”ï¼Œç¡®ä¿å‰åç«¯äº¤äº’çš„ä¸€è‡´æ€§ã€‚

### æˆåŠŸå“åº”
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "key": "value"
  }
}
```

### åˆ†é¡µå“åº”
```json
{
  "code": 200,
  "message": "è·å–æ•°æ®æˆåŠŸ",
  "data": {
    "items": [...],
    "pagination": {
      "page": 1,
      "per_page": 10,
      "total": 100,
      "pages": 10
    }
  }
}
```

### é”™è¯¯å“åº”
```json
{
  "code": 400,
  "message": "é”™è¯¯æè¿°"
}
```

### å“åº”æ ¼å¼è¯´æ˜
- **code**: HTTPçŠ¶æ€ç ï¼ˆ200æˆåŠŸï¼Œ400å®¢æˆ·ç«¯é”™è¯¯ï¼Œ500æœåŠ¡å™¨é”™è¯¯ï¼‰
- **message**: ä¸­æ–‡æç¤ºä¿¡æ¯
- **data**: å®é™…æ•°æ®ï¼ˆJSONå¯¹è±¡ï¼‰ï¼Œä»…æˆåŠŸå“åº”åŒ…å«æ­¤å­—æ®µ
- é”™è¯¯å“åº”åªåŒ…å« `code` å’Œ `message` å­—æ®µï¼Œç®€åŒ–äº†é”™è¯¯å¤„ç†

## ğŸ“š API æ¥å£æ–‡æ¡£

è¯¦ç»†çš„APIæ¥å£æ–‡æ¡£è¯·æŸ¥çœ‹ä»¥ä¸‹æ–‡ä»¶ï¼š

- [ç”¨æˆ·ç®¡ç† API](docs/user_api.md)
- [æ’è¡Œæ¦œ API](docs/charts_api.md)
- [è®ºå› API](docs/forum_api.md)
- [å›¾ç‰‡ç®¡ç† API](docs/image_api.md)
- [å†å²è®°å½• API](docs/history_api.md)
- [åº”ç”¨å‘å¸ƒ API](docs/releases_api.md)
- [ç”¨æˆ·å…³ç³» API](docs/relationship_api.md)
- [å¸–å­ç®¡ç† API](docs/posts_api.md)
- [ç‚¹èµåŠŸèƒ½ API](docs/likes_api.md)
- [å›å¤åŠŸèƒ½ API](docs/replies_api.md)
- [æ¨ªå¹…ç®¡ç† API](docs/banners_api.md)
- [çŸ­ä¿¡æœåŠ¡ API](docs/sms_api.md)

## ğŸ› ï¸ é¡¹ç›®ç»“æ„

```
SuperSpeedCalc-Server/
â”œâ”€â”€ app.py                 # Flaskåº”ç”¨ä¸»æ–‡ä»¶
â”œâ”€â”€ config.py             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ start.py              # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ models/               # æ•°æ®æ¨¡å‹
â”œâ”€â”€ routes/               # APIè·¯ç”±
â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ response.py       # æ ‡å‡†åŒ–å“åº”å·¥å…·ç±»
â”œâ”€â”€ uploads/              # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”œâ”€â”€ logs/                 # æ—¥å¿—æ–‡ä»¶
â””â”€â”€ docs/                 # APIæ–‡æ¡£
```

## ğŸ” å¥åº·æ£€æŸ¥

è®¿é—® `http://localhost:5000/health` æ£€æŸ¥æœåŠ¡çŠ¶æ€

## ğŸ“ æ—¥å¿—

- æ§åˆ¶å°è¾“å‡ºï¼šå®æ—¶æ—¥å¿—
- æ–‡ä»¶æ—¥å¿—ï¼š`logs/app.log`

## ğŸ§ª æ¥å£æµ‹è¯•

### æµ‹è¯•çŠ¶æ€
- âœ… **æœåŠ¡å™¨æ­£å¸¸è¿è¡Œ** - ç«¯å£ 8000
- âœ… **å“åº”æ ¼å¼æ ‡å‡†åŒ–** - æ‰€æœ‰æ¥å£ä½¿ç”¨ç»Ÿä¸€çš„ `code + message + data` æ ¼å¼
- âœ… **åŸºç¡€æ¥å£æµ‹è¯•é€šè¿‡** - ç”¨æˆ·åˆ—è¡¨æ¥å£è¿”å›æ­£ç¡®æ ¼å¼

### å¿«é€Ÿæµ‹è¯•
```bash
# æµ‹è¯•ç”¨æˆ·åˆ—è¡¨æ¥å£
curl "http://localhost:8000/users?page=1&per_page=5"

# é¢„æœŸå“åº”æ ¼å¼
{
  "code": 200,
  "message": "è·å–ç”¨æˆ·åˆ—è¡¨æˆåŠŸ",
  "data": {
    "items": [...],
    "pagination": {...}
  }
}
```

è¯¦ç»†æµ‹è¯•ç»“æœè¯·æŸ¥çœ‹ [API_TEST_RESULTS.md](./API_TEST_RESULTS.md)

## ğŸ†˜ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å ç”¨**ï¼šä¿®æ”¹ `start.py` ä¸­çš„ç«¯å£å·
2. **æ•°æ®åº“é”™è¯¯**ï¼šæ£€æŸ¥ `instance/app.db` æ–‡ä»¶æƒé™
3. **ä¾èµ–ç¼ºå¤±**ï¼šè¿è¡Œ `pip install -r requirements.txt`
4. **å“åº”æ ¼å¼**ï¼šæ‰€æœ‰æ¥å£å·²æ ‡å‡†åŒ–ï¼Œä½¿ç”¨ `utils/response.py` ä¸­çš„å·¥å…·å‡½æ•°
5. **æ¥å£è·¯å¾„**ï¼šæ³¨æ„æ¥å£è·¯å¾„æ²¡æœ‰ `/api` å‰ç¼€ï¼Œç›´æ¥ä½¿ç”¨ `/users`ã€`/charts` ç­‰

### è°ƒè¯•æ¨¡å¼

å¼€å‘ç¯å¢ƒä¸‹è‡ªåŠ¨å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼Œæ”¯æŒï¼š
- è‡ªåŠ¨é‡è½½
- è¯¦ç»†é”™è¯¯ä¿¡æ¯
- SQLæŸ¥è¯¢æ—¥å¿—

---

**æ³¨æ„**ï¼šè¿™æ˜¯å¼€å‘æœåŠ¡å™¨ï¼Œç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ä¸“ä¸šçš„WSGIæœåŠ¡å™¨ã€‚
